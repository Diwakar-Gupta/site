(this.webpackJsonpcourseview=this.webpackJsonpcourseview||[]).push([[0],{50:function(e,t,s){},51:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s(0),n=s.n(r),a=s(21),o=s.n(a),i=(s(50),s(6)),l=(s(51),s(15)),u=s(16),j=s(18),h=s(17),d=s(14),b=s.n(d),p=s(7),O=s(41);function x(){return Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{style:{marginLeft:"49%",marginRight:"49%",marginTop:"4rem"},animation:"border",variant:"primary"},"primary")})}var m=s(85),v=s(22);function g(e){return e=e||{},console.log(e),Object(c.jsxs)(m.a,{children:[Object(c.jsx)(m.a.Item,{href:"/",children:Object(c.jsx)(v.b,{size:18})}),Object(c.jsx)(m.a.Item,{linkAs:p.c,linkProps:{to:"/courses/s/"},children:"Courses"}),e.coursename&&Object(c.jsx)(m.a.Item,{linkAs:p.c,linkProps:{to:"/courses/s/".concat(e.coursekey)},children:e.coursename}),e.subtopicname&&Object(c.jsx)(m.a.Item,{linkAs:p.c,linkProps:{to:e.subtopicurl},children:e.subtopicname})]})}var k=s(84),f=s(77),y=s(78),S=s(79),C=s(80),w=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,error:"",courses:[]},e.fetchCourses=function(){e.setState({loading:!0,error:""}),b.a.get("/courses/api/courses/").then((function(t){console.log(t.data),e.setState({loading:!1,courses:t.data,error:""})})).catch((function(t){t.response?404===t.response.status?e.setState({loading:!1,error:"Resourse not available"}):e.setState({loading:!1,error:t.response.data}):e.setState({loading:!1,error:t.message})}))},e.enrollTo=function(t){b.a.get("/courses/api/course/".concat(t,"/enroll")).then((function(t){console.log(t),e.fetchCourses()})).catch((function(t){console.log(t),e.setState({error:403===t.response.status?t.response.data:"some thing wrong happend"}),setTimeout((function(){e.setState({error:""})}),2e3)}))},e.renderCourse=function(t){return Object(c.jsx)(k.a,{children:Object(c.jsxs)(k.a.Body,{children:[Object(c.jsxs)(k.a.Title,{children:[t.name,Object(c.jsx)("div",{style:{float:"right",color:"#a7a788"},children:t.user_count})]}),Object(c.jsx)(k.a.Text,{className:"text-muted",style:{minHeight:"1rem"}}),t.enrolled?Object(c.jsx)(f.a,{variant:"primary",to:"/courses/s/".concat(t.key),as:p.b,children:"Continue Course"}):Object(c.jsxs)(y.a,{children:[Object(c.jsx)(S.a,{children:Object(c.jsx)(f.a,{variant:"primary",to:"/courses/s/".concat(t.key),as:p.b,children:"View"})}),Object(c.jsx)(S.a,{children:Object(c.jsx)(f.a,{variant:"primary",onClick:function(){e.enrollTo(t.key)},children:"Enroll"})})]})]})},t.key)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.fetchCourses()}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(g,{}),this.state.loading?Object(c.jsx)("div",{children:Object(c.jsx)(x,{})}):Object(c.jsx)(C.a,{children:this.state.error?Object(c.jsx)("div",{className:"text-center",children:this.state.error}):0===this.state.courses.length?Object(c.jsx)("div",{className:"text-center",children:"No Course available for u"}):0===this.state.courses.length?Object(c.jsx)("div",{children:"No Course For U Now"}):this.state.courses.map(this.renderCourse)})]})}}]),s}(r.Component),N=s(82),T=s(83),A=s(81),z=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e,c,r,n;Object(l.a)(this,s);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))).state={course:n.props.course||(null===(e=n.props)||void 0===e||null===(c=e.match)||void 0===c||null===(r=c.params)||void 0===r?void 0:r.coursekey),ranklist:{},loading:!1,size:"10"},n.fetchRanking=function(){n.state.course&&(n.setState({loading:!0}),b.a.get("/courses/api/course/".concat(n.state.course,"/rank/"),{params:{size:n.state.size}}).then((function(e){n.setState({loading:!1,ranklist:e.data})})).catch((function(e){n.setState({loading:!1,ranklist:[]})})))},n.setSize=function(e){var t=e.target.value;n.setState({size:t})},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.fetchRanking()}},{key:"render",value:function(){return Object(c.jsxs)(A.a,{children:[Object(c.jsx)("p",{children:"Top Scores"}),this.state.loading?Object(c.jsx)(x,{}):Object(c.jsxs)(T.a,{children:[this.state.ranklist.me&&Object(c.jsxs)(T.a.Item,{as:p.b,to:"/user/".concat(this.state.ranklist.me.username),target:"_blank",children:[this.state.ranklist.me.username," ",Object(c.jsx)("div",{style:{float:"right"},children:this.state.ranklist.me.score})]},this.state.ranklist.me.username),this.state.ranklist.me&&Object(c.jsx)("hr",{}),this.state.ranklist.other&&this.state.ranklist.other.length?this.state.ranklist.other.map((function(e){return Object(c.jsxs)(T.a.Item,{as:p.b,to:"/user/".concat(e.username),target:"_blank",children:[e.username," ",Object(c.jsx)("div",{style:{float:"right"},children:e.score})]},e.username)})):Object(c.jsx)("div",{children:"No users"}),Object(c.jsxs)("div",{children:[this.props.course?Object(c.jsx)(p.b,{to:"/courses/s/".concat(this.state.course,"/ranking"),children:Object(c.jsx)(v.a,{size:30})}):Object(c.jsxs)("select",{onChange:this.setSize,children:[Object(c.jsx)("option",{value:"10",children:"10"}),Object(c.jsx)("option",{value:"20",children:"20"}),Object(c.jsx)("option",{value:"50",children:"50"}),Object(c.jsx)("option",{value:"100",children:"100"}),Object(c.jsx)("option",{value:"all",children:"all"})]}),Object(c.jsx)(v.c,{size:30,onClick:this.fetchRanking})]})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var s,c,r,n;return(null===e||void 0===e||null===(s=e.match)||void 0===s||null===(c=s.params)||void 0===c?void 0:c.coursekey)&&(null===e||void 0===e||null===(r=e.match)||void 0===r||null===(n=r.params)||void 0===n?void 0:n.coursekey)!==t.course||e.course&&e.course!==t.course?{course:e.course}:null}}]),s}(r.Component),I=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={loading:!0,error:"",course:{key:e.props.match.params.coursekey,topics:[]}},e.renderTopic=function(t,s){return s++,Object(c.jsxs)(k.a,{children:[Object(c.jsx)(N.a.Toggle,{as:k.a.Header,eventKey:s,children:t.name}),Object(c.jsx)(N.a.Collapse,{eventKey:s,children:Object(c.jsx)(k.a.Body,{children:Object(c.jsx)(T.a,{variant:"flush",children:0===t.subtopics.length?Object(c.jsx)("div",{children:"No sub Topic Available for now"}):t.subtopics.map((function(s){return Object(c.jsx)(T.a.Item,{to:"/courses/s/".concat(e.state.course.key,"/").concat(t.key,"/").concat(s.key),as:p.b,children:s.name},s.key)}))})})})]},t.key)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/courses/api/course/".concat(this.state.course.key,"/")).then((function(t){t.data.topics.sort((function(e,t){return e.order-t.order})),t.data.topics.map((function(e){return e.subtopics.sort((function(e,t){return e.order-t.order}))})),console.log(t.data),e.setState({loading:!1,course:t.data})})).catch((function(t){console.log("error"),console.log(t),t.response?404===t.response.status?e.setState({loading:!1,error:"Resourse not available"}):e.setState({loading:!1,error:t.response.data}):e.setState({loading:!1,error:t.message})}))}},{key:"render",value:function(){var e=this,t=this.state.course;return Object(c.jsxs)("div",{children:[Object(c.jsx)(g,{coursename:this.state.course.name,coursekey:this.state.course.key}),this.state.loading?Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(x,{})}):Object(c.jsx)("div",{children:this.state.error?Object(c.jsx)("div",{children:this.state.error}):Object(c.jsxs)(y.a,{children:[Object(c.jsx)(S.a,{children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)("h3",{className:"text-center",children:t.name}),Object(c.jsx)("p",{style:{fontSize:"larger"},children:this.state.course.description}),Object(c.jsx)(N.a,{defaultActiveKey:"0",children:0===this.state.course.topics.length?Object(c.jsx)("div",{children:"No Topics Available for now"},"no topic"):this.state.course.topics.map((function(t,s){return e.renderTopic(t,s)}))})]})}),Object(c.jsx)(S.a,{md:4,children:Object(c.jsx)(z,{course:this.state.course.key})})]})})]})}}]),s}(r.Component),P=function(e){Object(j.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={loading:!0,error:"",coursekey:e.props.match.params.coursekey,topickey:e.props.match.params.topickey,subtopic:{key:e.props.match.params.subtopickey}},e.renderProblem=function(e,t){return Object(c.jsx)(T.a.Item,{as:p.b,to:"".concat(e.url),target:"_blank",children:Object(c.jsxs)(y.a,{style:e.result?{background:"#c3eefe"}:{},children:[Object(c.jsxs)(S.a,{children:[" ",e.name]}),e.result?"done  ":"",e.points]})})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/courses/api/course/".concat(this.state.coursekey,"/").concat(this.state.topickey,"/").concat(this.state.subtopic.key)).then((function(t){console.log(t.data),t.data.problems.sort((function(e,t){return e.order-t.order})),e.setState({loading:!1,subtopic:t.data})})).catch((function(t){e.setState({loading:!1,error:"Some thing went wrong"})})).catch(console.log)}},{key:"render",value:function(){var e=(this.state.subtopic||[]).problems;return Object(c.jsxs)("div",{children:[Object(c.jsx)(g,{coursename:this.state.coursekey,coursekey:this.state.coursekey,subtopicname:this.state.subtopic.name,subtopicurl:"/courses/s/".concat(this.state.coursekey,"/").concat(this.state.topickey,"/").concat(this.state.subtopic.key)}),this.state.loading?Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(x,{})}):Object(c.jsx)("div",{children:this.state.error?Object(c.jsx)("div",{children:"Some thing went wrong"}):Object(c.jsxs)(y.a,{children:[Object(c.jsx)(S.a,{md:8,children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)("h3",{className:"text-center",children:this.state.subtopic.name}),0===e.length?Object(c.jsx)("div",{children:"No Question Here"}):Object(c.jsx)(T.a,{variant:"flush",children:e.map(this.renderProblem)})]})}),Object(c.jsx)(S.a,{children:Object(c.jsx)(z,{course:this.state.coursekey})})]})})]})}}]),s}(r.Component);function D(){return Object(c.jsx)("div",{children:"reload"})}var F=function(){return Object(c.jsx)("div",{className:"App p-3",children:Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:"/courses/s/:coursekey/:topickey/:subtopickey",exact:!0,component:P}),Object(c.jsx)(i.a,{path:"/courses/s/:coursekey",exact:!0,component:I}),Object(c.jsx)(i.a,{path:"/courses/s/:coursekey/ranking",exact:!0,component:z}),Object(c.jsx)(i.a,{path:"/courses/s",exact:!0,component:w}),Object(c.jsx)(i.a,{path:"",component:D})]})})},R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,86)).then((function(t){var s=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,a=t.getTTFB;s(e),c(e),r(e),n(e),a(e)}))};o.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(p.a,{children:Object(c.jsx)(F,{})})}),document.getElementById("root")),R()}},[[75,1,2]]]);
//# sourceMappingURL=main.3d3b1d03.chunk.js.map